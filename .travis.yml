language: php

# list any PHP version you want to test against
php:
  - 5.5

#services
services:
  - mongodb

#branches
branches:
  only:
    - development

#
## optionally specify a list of environments, for example to test different RDBMS
#env:
#  - DB=mysql
#  - DB=pgsql

# execute any number of scripts before the test run, custom env's are available as variables
before_script:
  - composer install
  - echo "extension = <extension>.so" >> ~/.phpenv/versions/$(phpenv version-name)/etc/php.ini
# omitting "script:" will default to phpunit
# use the $DB env variable to determine the phpunit.xml to use
script: phpunit --configuration phpunit.xml --coverage-text

# configure notifications (email, IRC, campfire etc)
#notifications:
#  irc: "irc.freenode.org#yourfavouriteroomfortravis"
